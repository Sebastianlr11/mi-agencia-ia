---
import NeonBackground from './NeonBackground.astro';
import Animations from './Animations.astro';
import NeonEffects from './NeonEffects.astro';
---

<section class="about py-20 text-white relative overflow-hidden bg-transparent" id="contact">
  <!-- Fondo elegante con gradiente -->
  <div class="absolute inset-0 z-0">
    <div class="bg-gradient-to-br from-gray-900 to-gray-800"></div>
  </div>

  <!-- Partículas animadas sutiles -->
  <div class="absolute inset-0 z-5 pointer-events-none">
    <div class="particles">
      <span class="particle animate-particle-1"></span>
      <span class="particle animate-particle-2"></span>
      <span class="particle animate-particle-3"></span>
    </div>
  </div>

  <!-- Componentes externos -->
  <NeonBackground />
  <Animations />
  <NeonEffects />

  <!-- Contenido -->
  <div class="container mx-auto px-6 z-10 relative text-center max-w-4xl">
    <h2 class="text-5xl md:text-7xl font-serif font-bold mb-12 text-white">
      <span class="text-blue-600">Contáctanos</span>
    </h2>
    <div class="max-w-lg mx-auto">
      <p class="text-2xl md:text-3xl text-gray-300 mb-10 leading-relaxed">
        ¿Listo para transformar tu negocio con IA y redes sociales? ¡Conéctate con nosotros ahora!
      </p>
      <div class="flex flex-wrap justify-center gap-6">
        <!-- Botón de WhatsApp -->
        <a
          href="https://wa.me/573143602930"
          target="_blank"
          rel="noopener noreferrer"
          class="inline-block bg-gradient-to-br from-blue-800 to-gray-900 hover:from-blue-900 hover:to-gray-800 text-white font-semibold py-4 px-10 rounded-lg shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center gap-2"
        >
          <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 0C5.373 0 0 5.373 0 12c0 2.135.557 4.21 1.61 6.035L0 24l5.975-1.61A11.944 11.944 0 0012 24c6.627 0 12-5.373 12-12S18.627 0 12 0zm0 21.818c-1.875 0-3.682-.506-5.25-1.463l-.375-.225-3.54.956.957-3.54-.225-.375A9.955 9.955 0 012.182 12c0-5.514 4.486-10 10-10s10 4.486 10 10-4.486 10-10 10zm5.835-7.364c-.314-.157-1.854-.914-2.142-1.018-.288-.105-.497-.157-.707.157-.21.314-.814 1.018-.996 1.226-.183.208-.366.235-.68.078-.314-.157-1.326-.488-2.524-1.557-1.198-1.07-2.013-2.388-2.252-2.702-.235-.314-.026-.497.235-.654.235-.157.366-.235.55-.366.183-.13.262-.208.366-.366.105-.157.052-.314-.026-.445-.078-.13-.707-1.705-.975-2.336-.262-.615-.524-.524-.707-.534-.183-.01-.393-.01-.602-.01-.21 0-.55.078-.838.393-.288.314-1.098 1.071-1.098 2.616 0 1.545 1.124 3.038 1.28 3.246.157.208 2.226 3.406 5.408 4.777 3.182 1.371 3.182.914 3.754.856.573-.057 1.854-.757 2.116-1.492.262-.735.262-1.364.183-1.492-.078-.13-.288-.208-.602-.366z" />
          </svg>
          WhatsApp
        </a>
        <!-- Botón de Email -->
        <div class="relative">
          <a
            id="copy-email-btn"
            href="#"
            class="inline-block bg-gradient-to-br from-blue-800 to-gray-900 hover:from-blue-900 hover:to-gray-800 text-white font-semibold py-4 px-10 rounded-lg shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center gap-2"
          >
            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z" />
            </svg>
            Email
          </a>
          <!-- Mensaje de confirmación -->
          <span
            id="copied-message"
            class="hidden absolute top-1/2 right-0 transform translate-x-full -translate-y-1/2 bg-blue-600 text-white text-xs px-3 py-1 rounded-md shadow-md ml-2"
          >
            Correo copiado
          </span>
        </div>
      </div>
      <!-- Código QR para WhatsApp -->
      <div class="mt-10 flex justify-center">
        <div class="relative w-80 h-80 bg-gradient-to-br from-gray-900 to-gray-800 rounded-lg shadow-lg p-4 transition-all duration-300 transform hover:scale-105">
          <img
            src="/qr.png"
            alt="Código QR de WhatsApp"
            class="w-full h-full object-contain"
          />
        </div>
      </div>
    </div>

    <!-- Flecha animada -->
    <div class="mt-24 animate-bounce">
      <a href="#next-section" class="scroll-smooth">
        <svg class="w-10 h-10 text-white mx-auto hover:text-blue-400 transition-colors duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
        </svg>
      </a>
    </div>
  </div>
</section>

<script>
  // Función para copiar el correo al portapapeles
  document.getElementById("copy-email-btn").addEventListener("click", function (e) {
    e.preventDefault(); // Evitar el comportamiento predeterminado del enlace
    const email = 'contact@mlagenclaia.com';
    navigator.clipboard.writeText(email).then(() => {
      const copiedMessage = document.getElementById("copied-message");
      if (copiedMessage) {
        copiedMessage.classList.remove("hidden");
        setTimeout(() => {
          copiedMessage.classList.add("hidden");
        }, 2000);
      }
    }).catch(err => {
      console.error('Error al copiar el correo: ', err);
    });
  });
</script>

<style>
  /* Estilos de partículas animadas */
  .particles {
    position: absolute;
    width: 100%;
    height: 100%;
  }
  .particle {
    position: absolute;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 50%;
    width: 6px;
    height: 6px;
    opacity: 0;
  }
  .animate-particle-1 {
    top: 20%;
    left: 15%;
    animation: particleMove 8s infinite ease-in-out;
  }
  .animate-particle-2 {
    top: 60%;
    left: 75%;
    animation: particleMove 7s infinite ease-in-out 2s;
  }
  .animate-particle-3 {
    top: 40%;
    left: 40%;
    animation: particleMove 6s infinite ease-in-out 1s;
  }
  @keyframes particleMove {
    0% {
      opacity: 0;
      transform: translateY(0);
    }
    20% {
      opacity: 0.6;
    }
    80% {
      opacity: 0.6;
    }
    100% {
      opacity: 0;
      transform: translateY(-50px);
    }
  }

  /* Animación de rebote para la flecha */
  .animate-bounce {
    animation: bounce 2s infinite;
  }
  @keyframes bounce {
    0%, 20%, 50%, 80%, 100% {
      transform: translateY(0);
    }
    40% {
      transform: translateY(-10px);
    }
    60% {
      transform: translateY(-5px);
    }
  }

  /* Scroll suave */
  .scroll-smooth {
    scroll-behavior: smooth;
  }
</style>